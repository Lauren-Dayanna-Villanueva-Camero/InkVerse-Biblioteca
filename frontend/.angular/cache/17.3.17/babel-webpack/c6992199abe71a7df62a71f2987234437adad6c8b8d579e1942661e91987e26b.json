{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"../../services/admin.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nconst _c0 = [\"usuariosTable\"];\nfunction AdminUsuariosComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47)(1, \"div\", 48)(2, \"span\", 49);\n    i0.ɵɵtext(3, \"Cargando...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AdminUsuariosComponent_div_17_tr_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"strong\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\")(13, \"span\", 54);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"td\")(16, \"span\", 54);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"td\")(19, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function AdminUsuariosComponent_div_17_tr_22_Template_button_click_19_listener() {\n      const usuario_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.verUsuario(usuario_r2));\n    });\n    i0.ɵɵtext(20, \" \\uD83D\\uDC41\\uFE0F \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"button\", 56);\n    i0.ɵɵlistener(\"click\", function AdminUsuariosComponent_div_17_tr_22_Template_button_click_21_listener() {\n      const usuario_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.abrirEditarUsuario(usuario_r2));\n    });\n    i0.ɵɵtext(22, \" \\u270F\\uFE0F \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"button\", 57);\n    i0.ɵɵlistener(\"click\", function AdminUsuariosComponent_div_17_tr_22_Template_button_click_23_listener() {\n      const usuario_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.toggleBloqueado(usuario_r2));\n    });\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"button\", 58);\n    i0.ɵɵlistener(\"click\", function AdminUsuariosComponent_div_17_tr_22_Template_button_click_25_listener() {\n      const usuario_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.eliminarUsuario(usuario_r2));\n    });\n    i0.ɵɵtext(26, \" \\uD83D\\uDDD1\\uFE0F \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const usuario_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r2.id);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(usuario_r2.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r2.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r2.apellido);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r2.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", usuario_r2.rol === \"ADMIN\" ? \"bg-danger\" : \"bg-primary\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", usuario_r2.rol, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", usuario_r2.bloqueado ? \"bg-danger\" : \"bg-success\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", usuario_r2.bloqueado ? \"Bloqueado\" : \"Activo\", \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngClass\", usuario_r2.bloqueado ? \"btn-success\" : \"btn-secondary\")(\"title\", usuario_r2.bloqueado ? \"Desbloquear\" : \"Bloquear\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", usuario_r2.bloqueado ? \"\\uD83D\\uDD13\" : \"\\uD83D\\uDD12\", \" \");\n  }\n}\nfunction AdminUsuariosComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50)(1, \"table\", 51, 0)(3, \"thead\", 52)(4, \"tr\")(5, \"th\");\n    i0.ɵɵtext(6, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Username\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Nombre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Apellido\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Rol\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\");\n    i0.ɵɵtext(18, \"Estado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"th\");\n    i0.ɵɵtext(20, \"Acciones\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"tbody\");\n    i0.ɵɵtemplate(22, AdminUsuariosComponent_div_17_tr_22_Template, 27, 12, \"tr\", 53);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(22);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.usuarios);\n  }\n}\nfunction AdminUsuariosComponent_span_65_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 24);\n    i0.ɵɵtext(1, \"*\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminUsuariosComponent_small_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 5);\n    i0.ɵɵtext(1, \"Dejar vac\\u00EDo si no deseas cambiar la contrase\\u00F1a\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminUsuariosComponent_div_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \"La contrase\\u00F1a es requerida\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminUsuariosComponent_div_96_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"div\", 37)(2, \"strong\");\n    i0.ɵɵtext(3, \"ID:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 37)(7, \"strong\");\n    i0.ɵɵtext(8, \"Username:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 9);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 37)(12, \"strong\");\n    i0.ɵɵtext(13, \"Nombre:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\", 9);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 37)(17, \"strong\");\n    i0.ɵɵtext(18, \"Email:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"p\", 9);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"div\", 37)(22, \"strong\");\n    i0.ɵɵtext(23, \"Rol:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"p\", 9)(25, \"span\", 54);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(27, \"div\", 37)(28, \"strong\");\n    i0.ɵɵtext(29, \"Estado:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"p\", 9)(31, \"span\", 54);\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"#\", ctx_r2.usuarioParaVer.id, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.usuarioParaVer.username);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r2.usuarioParaVer.nombre, \" \", ctx_r2.usuarioParaVer.apellido, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.usuarioParaVer.email);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.usuarioParaVer.rol === \"ADMIN\" ? \"bg-danger\" : \"bg-primary\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.usuarioParaVer.rol, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.usuarioParaVer.bloqueado ? \"bg-danger\" : \"bg-success\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.usuarioParaVer.bloqueado ? \"Bloqueado\" : \"Activo\", \" \");\n  }\n}\nfunction AdminUsuariosComponent_button_100_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 60);\n    i0.ɵɵlistener(\"click\", function AdminUsuariosComponent_button_100_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.editarDesdeModalVer());\n    });\n    i0.ɵɵtext(1, \" \\u270F\\uFE0F Editar Usuario \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let AdminUsuariosComponent = /*#__PURE__*/(() => {\n  class AdminUsuariosComponent {\n    authService;\n    adminService;\n    router;\n    fb;\n    usuariosTable;\n    usuarios = [];\n    loading = false;\n    mostrarFormularioUsuario = false;\n    modoEdicion = false;\n    usuarioSeleccionado = null;\n    usuarioParaVer = null;\n    usuarioForm;\n    constructor(authService, adminService, router, fb) {\n      this.authService = authService;\n      this.adminService = adminService;\n      this.router = router;\n      this.fb = fb;\n      this.usuarioForm = this.fb.group({\n        username: ['', Validators.required],\n        password: [''],\n        nombre: ['', Validators.required],\n        apellido: ['', Validators.required],\n        email: ['', [Validators.required, Validators.email]],\n        rol: ['USUARIO', Validators.required],\n        bloqueado: [false]\n      });\n    }\n    ngOnInit() {\n      if (!this.authService.isAdmin()) {\n        this.router.navigate(['/']);\n        return;\n      }\n      this.cargarUsuarios();\n    }\n    ngAfterViewInit() {\n      // DataTable se inicializará después de cargar los datos\n    }\n    cargarUsuarios() {\n      this.loading = true;\n      this.adminService.listarUsuarios().subscribe({\n        next: usuarios => {\n          this.usuarios = usuarios;\n          this.loading = false;\n          setTimeout(() => this.inicializarDataTable(), 100);\n        },\n        error: err => {\n          console.error('Error al cargar usuarios:', err);\n          this.loading = false;\n        }\n      });\n    }\n    inicializarDataTable() {\n      if (this.usuariosTable && this.usuariosTable.nativeElement) {\n        if ($.fn.DataTable.isDataTable(this.usuariosTable.nativeElement)) {\n          $(this.usuariosTable.nativeElement).DataTable().destroy();\n        }\n        $(this.usuariosTable.nativeElement).DataTable({\n          language: {\n            url: '//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json'\n          },\n          pageLength: 10,\n          order: [[0, 'asc']],\n          columnDefs: [{\n            orderable: false,\n            targets: [7]\n          } // Botones de acción no ordenables\n          ]\n        });\n      }\n    }\n    abrirCrearUsuario() {\n      this.modoEdicion = false;\n      this.usuarioSeleccionado = null;\n      this.usuarioForm.reset({\n        rol: 'USUARIO',\n        bloqueado: false,\n        password: ''\n      });\n      // Hacer password requerido en creación\n      this.usuarioForm.get('password')?.setValidators([Validators.required]);\n      this.usuarioForm.get('password')?.updateValueAndValidity();\n      this.mostrarFormularioUsuario = true;\n      const modal = new bootstrap.Modal(document.getElementById('usuarioModal'));\n      modal.show();\n    }\n    abrirEditarUsuario(usuario) {\n      this.modoEdicion = true;\n      this.usuarioSeleccionado = usuario;\n      this.usuarioForm.patchValue({\n        username: usuario.username,\n        password: '',\n        // No mostrar contraseña\n        nombre: usuario.nombre,\n        apellido: usuario.apellido,\n        email: usuario.email,\n        rol: usuario.rol,\n        bloqueado: usuario.bloqueado\n      });\n      // Password opcional en edición\n      this.usuarioForm.get('password')?.clearValidators();\n      this.usuarioForm.get('password')?.updateValueAndValidity();\n      this.mostrarFormularioUsuario = true;\n      const modal = new bootstrap.Modal(document.getElementById('usuarioModal'));\n      modal.show();\n    }\n    guardarUsuario() {\n      if (this.usuarioForm.invalid) {\n        this.usuarioForm.markAllAsTouched();\n        return;\n      }\n      const formValue = this.usuarioForm.value;\n      const usuario = {\n        id: this.usuarioSeleccionado?.id || 0,\n        username: formValue.username,\n        nombre: formValue.nombre,\n        apellido: formValue.apellido,\n        email: formValue.email,\n        rol: formValue.rol,\n        bloqueado: formValue.bloqueado\n      };\n      // Solo incluir password si se proporcionó una nueva\n      if (formValue.password && formValue.password.trim() !== '') {\n        usuario.password = formValue.password;\n      }\n      const operacion = this.modoEdicion ? this.adminService.actualizarUsuario(usuario.id, usuario) : this.adminService.crearUsuario(usuario);\n      operacion.subscribe({\n        next: () => {\n          this.cerrarModal();\n          this.cargarUsuarios();\n          alert(this.modoEdicion ? 'Usuario actualizado exitosamente' : 'Usuario creado exitosamente');\n        },\n        error: err => {\n          alert(err?.error?.message || err?.error?.error || 'Error al guardar el usuario');\n        }\n      });\n    }\n    eliminarUsuario(usuario) {\n      if (!confirm(`¿Estás seguro de eliminar el usuario \"${usuario.username}\"?`)) {\n        return;\n      }\n      this.adminService.eliminarUsuario(usuario.id).subscribe({\n        next: () => {\n          this.cargarUsuarios();\n          alert('Usuario eliminado exitosamente');\n        },\n        error: err => {\n          alert(err?.error?.message || err?.error?.error || 'Error al eliminar el usuario');\n        }\n      });\n    }\n    verUsuario(usuario) {\n      this.usuarioParaVer = usuario;\n      const modal = new bootstrap.Modal(document.getElementById('verUsuarioModal'));\n      modal.show();\n    }\n    cerrarModalVer() {\n      const modal = bootstrap.Modal.getInstance(document.getElementById('verUsuarioModal'));\n      if (modal) {\n        modal.hide();\n      }\n      this.usuarioParaVer = null;\n    }\n    editarDesdeModalVer() {\n      if (!this.usuarioParaVer) {\n        return;\n      }\n      const modalVer = bootstrap.Modal.getInstance(document.getElementById('verUsuarioModal'));\n      if (modalVer) {\n        modalVer.hide();\n      }\n      setTimeout(() => {\n        this.abrirEditarUsuario(this.usuarioParaVer);\n        this.usuarioParaVer = null;\n      }, 300);\n    }\n    cerrarModal() {\n      const modal = bootstrap.Modal.getInstance(document.getElementById('usuarioModal'));\n      if (modal) {\n        modal.hide();\n      }\n      this.mostrarFormularioUsuario = false;\n      this.usuarioSeleccionado = null;\n      this.usuarioForm.reset();\n    }\n    toggleBloqueado(usuario) {\n      const nuevoEstado = !usuario.bloqueado;\n      const usuarioActualizado = {\n        ...usuario,\n        bloqueado: nuevoEstado\n      };\n      this.adminService.actualizarUsuario(usuario.id, usuarioActualizado).subscribe({\n        next: () => {\n          this.cargarUsuarios();\n          alert(`Usuario ${nuevoEstado ? 'bloqueado' : 'desbloqueado'} exitosamente`);\n        },\n        error: err => {\n          alert(err?.error?.message || 'Error al actualizar el estado del usuario');\n        }\n      });\n    }\n    static ɵfac = function AdminUsuariosComponent_Factory(t) {\n      return new (t || AdminUsuariosComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.AdminService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.FormBuilder));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AdminUsuariosComponent,\n      selectors: [[\"app-admin-usuarios\"]],\n      viewQuery: function AdminUsuariosComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.usuariosTable = _t.first);\n        }\n      },\n      decls: 101,\n      vars: 22,\n      consts: [[\"usuariosTable\", \"\"], [1, \"admin-container\"], [1, \"container-fluid\", \"py-4\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [1, \"page-title\", \"mb-2\"], [1, \"text-muted\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"card\", \"shadow-sm\"], [1, \"card-header\", \"bg-success\", \"text-white\"], [1, \"mb-0\"], [1, \"card-body\"], [\"class\", \"text-center py-5\", 4, \"ngIf\"], [\"class\", \"table-responsive\", 4, \"ngIf\"], [\"id\", \"usuarioModal\", \"tabindex\", \"-1\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\"], [1, \"modal-header\", \"bg-success\", \"text-white\"], [1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn-close\", \"btn-close-white\", 3, \"click\"], [1, \"modal-body\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"row\"], [1, \"col-md-6\", \"mb-3\"], [1, \"form-label\"], [1, \"text-danger\"], [\"type\", \"text\", \"formControlName\", \"username\", 1, \"form-control\"], [1, \"invalid-feedback\"], [\"type\", \"email\", \"formControlName\", \"email\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"nombre\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"apellido\", 1, \"form-control\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"type\", \"password\", \"formControlName\", \"password\", 1, \"form-control\", 3, \"placeholder\"], [\"class\", \"text-muted\", 4, \"ngIf\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"formControlName\", \"rol\", 1, \"form-select\"], [\"value\", \"USUARIO\"], [\"value\", \"ADMIN\"], [1, \"mb-3\"], [1, \"form-check\"], [\"type\", \"checkbox\", \"formControlName\", \"bloqueado\", \"id\", \"bloqueadoCheck\", 1, \"form-check-input\"], [\"for\", \"bloqueadoCheck\", 1, \"form-check-label\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"disabled\"], [\"id\", \"verUsuarioModal\", \"tabindex\", \"-1\", 1, \"modal\", \"fade\"], [\"class\", \"modal-body\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn btn-success\", 3, \"click\", 4, \"ngIf\"], [1, \"text-center\", \"py-5\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-success\"], [1, \"visually-hidden\"], [1, \"table-responsive\"], [\"id\", \"usuariosTable\", 1, \"table\", \"table-striped\", \"table-hover\"], [1, \"table-dark\"], [4, \"ngFor\", \"ngForOf\"], [1, \"badge\", 3, \"ngClass\"], [\"title\", \"Ver detalles\", 1, \"btn\", \"btn-sm\", \"btn-info\", \"me-1\", 3, \"click\"], [\"title\", \"Editar\", 1, \"btn\", \"btn-sm\", \"btn-warning\", \"me-1\", 3, \"click\"], [1, \"btn\", \"btn-sm\", 3, \"click\", \"ngClass\", \"title\"], [\"title\", \"Eliminar\", 1, \"btn\", \"btn-sm\", \"btn-danger\", \"ms-1\", 3, \"click\"], [1, \"mb-0\", \"text-muted\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"click\"]],\n      template: function AdminUsuariosComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3)(3, \"div\")(4, \"h1\", 4);\n          i0.ɵɵtext(5, \" \\uD83D\\uDC65 Gesti\\u00F3n de Usuarios \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"p\", 5);\n          i0.ɵɵtext(7, \"Administra los usuarios del sistema\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"div\")(9, \"button\", 6);\n          i0.ɵɵlistener(\"click\", function AdminUsuariosComponent_Template_button_click_9_listener() {\n            return ctx.abrirCrearUsuario();\n          });\n          i0.ɵɵtext(10, \" \\u2795 Nuevo Usuario \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(11, \"div\", 7)(12, \"div\", 8)(13, \"h5\", 9);\n          i0.ɵɵtext(14, \" \\uD83D\\uDC65 Lista de Usuarios \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"div\", 10);\n          i0.ɵɵtemplate(16, AdminUsuariosComponent_div_16_Template, 4, 0, \"div\", 11)(17, AdminUsuariosComponent_div_17_Template, 23, 1, \"div\", 12);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(18, \"div\", 13)(19, \"div\", 14)(20, \"div\", 15)(21, \"div\", 16)(22, \"h5\", 17);\n          i0.ɵɵtext(23);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"button\", 18);\n          i0.ɵɵlistener(\"click\", function AdminUsuariosComponent_Template_button_click_24_listener() {\n            return ctx.cerrarModal();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(25, \"div\", 19)(26, \"form\", 20);\n          i0.ɵɵlistener(\"ngSubmit\", function AdminUsuariosComponent_Template_form_ngSubmit_26_listener() {\n            return ctx.guardarUsuario();\n          });\n          i0.ɵɵelementStart(27, \"div\", 21)(28, \"div\", 22)(29, \"label\", 23);\n          i0.ɵɵtext(30, \"Username \");\n          i0.ɵɵelementStart(31, \"span\", 24);\n          i0.ɵɵtext(32, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(33, \"input\", 25);\n          i0.ɵɵelementStart(34, \"div\", 26);\n          i0.ɵɵtext(35, \"El username es requerido\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(36, \"div\", 22)(37, \"label\", 23);\n          i0.ɵɵtext(38, \"Email \");\n          i0.ɵɵelementStart(39, \"span\", 24);\n          i0.ɵɵtext(40, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(41, \"input\", 27);\n          i0.ɵɵelementStart(42, \"div\", 26);\n          i0.ɵɵtext(43, \"El email es requerido y debe ser v\\u00E1lido\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(44, \"div\", 21)(45, \"div\", 22)(46, \"label\", 23);\n          i0.ɵɵtext(47, \"Nombre \");\n          i0.ɵɵelementStart(48, \"span\", 24);\n          i0.ɵɵtext(49, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(50, \"input\", 28);\n          i0.ɵɵelementStart(51, \"div\", 26);\n          i0.ɵɵtext(52, \"El nombre es requerido\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(53, \"div\", 22)(54, \"label\", 23);\n          i0.ɵɵtext(55, \"Apellido \");\n          i0.ɵɵelementStart(56, \"span\", 24);\n          i0.ɵɵtext(57, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(58, \"input\", 29);\n          i0.ɵɵelementStart(59, \"div\", 26);\n          i0.ɵɵtext(60, \"El apellido es requerido\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(61, \"div\", 21)(62, \"div\", 22)(63, \"label\", 23);\n          i0.ɵɵtext(64, \"Contrase\\u00F1a \");\n          i0.ɵɵtemplate(65, AdminUsuariosComponent_span_65_Template, 2, 0, \"span\", 30);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(66, \"input\", 31);\n          i0.ɵɵtemplate(67, AdminUsuariosComponent_small_67_Template, 2, 0, \"small\", 32)(68, AdminUsuariosComponent_div_68_Template, 2, 0, \"div\", 33);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(69, \"div\", 22)(70, \"label\", 23);\n          i0.ɵɵtext(71, \"Rol \");\n          i0.ɵɵelementStart(72, \"span\", 24);\n          i0.ɵɵtext(73, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(74, \"select\", 34)(75, \"option\", 35);\n          i0.ɵɵtext(76, \"USUARIO\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(77, \"option\", 36);\n          i0.ɵɵtext(78, \"ADMIN\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(79, \"div\", 37)(80, \"div\", 38);\n          i0.ɵɵelement(81, \"input\", 39);\n          i0.ɵɵelementStart(82, \"label\", 40);\n          i0.ɵɵtext(83, \" Usuario bloqueado \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(84, \"div\", 41)(85, \"button\", 42);\n          i0.ɵɵlistener(\"click\", function AdminUsuariosComponent_Template_button_click_85_listener() {\n            return ctx.cerrarModal();\n          });\n          i0.ɵɵtext(86, \" Cancelar \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(87, \"button\", 43);\n          i0.ɵɵtext(88);\n          i0.ɵɵelementEnd()()()()()()();\n          i0.ɵɵelementStart(89, \"div\", 44)(90, \"div\", 14)(91, \"div\", 15)(92, \"div\", 16)(93, \"h5\", 17);\n          i0.ɵɵtext(94, \" \\uD83D\\uDC65 Detalles del Usuario \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(95, \"button\", 18);\n          i0.ɵɵlistener(\"click\", function AdminUsuariosComponent_Template_button_click_95_listener() {\n            return ctx.cerrarModalVer();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(96, AdminUsuariosComponent_div_96_Template, 33, 9, \"div\", 45);\n          i0.ɵɵelementStart(97, \"div\", 41)(98, \"button\", 42);\n          i0.ɵɵlistener(\"click\", function AdminUsuariosComponent_Template_button_click_98_listener() {\n            return ctx.cerrarModalVer();\n          });\n          i0.ɵɵtext(99, \" Cerrar \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(100, AdminUsuariosComponent_button_100_Template, 2, 0, \"button\", 46);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          let tmp_4_0;\n          let tmp_5_0;\n          let tmp_6_0;\n          let tmp_7_0;\n          let tmp_9_0;\n          i0.ɵɵadvance(16);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\" \", ctx.modoEdicion ? \"Editar Usuario\" : \"Nuevo Usuario\", \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formGroup\", ctx.usuarioForm);\n          i0.ɵɵadvance(7);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_4_0 = ctx.usuarioForm.get(\"username\")) == null ? null : tmp_4_0.invalid) && ((tmp_4_0 = ctx.usuarioForm.get(\"username\")) == null ? null : tmp_4_0.touched));\n          i0.ɵɵadvance(8);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_5_0 = ctx.usuarioForm.get(\"email\")) == null ? null : tmp_5_0.invalid) && ((tmp_5_0 = ctx.usuarioForm.get(\"email\")) == null ? null : tmp_5_0.touched));\n          i0.ɵɵadvance(9);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_6_0 = ctx.usuarioForm.get(\"nombre\")) == null ? null : tmp_6_0.invalid) && ((tmp_6_0 = ctx.usuarioForm.get(\"nombre\")) == null ? null : tmp_6_0.touched));\n          i0.ɵɵadvance(8);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_7_0 = ctx.usuarioForm.get(\"apellido\")) == null ? null : tmp_7_0.invalid) && ((tmp_7_0 = ctx.usuarioForm.get(\"apellido\")) == null ? null : tmp_7_0.touched));\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", !ctx.modoEdicion);\n          i0.ɵɵadvance();\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_9_0 = ctx.usuarioForm.get(\"password\")) == null ? null : tmp_9_0.invalid) && ((tmp_9_0 = ctx.usuarioForm.get(\"password\")) == null ? null : tmp_9_0.touched));\n          i0.ɵɵproperty(\"placeholder\", ctx.modoEdicion ? \"Dejar vac\\u00EDo para no cambiar\" : \"Contrase\\u00F1a\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.modoEdicion);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.modoEdicion);\n          i0.ɵɵadvance(19);\n          i0.ɵɵproperty(\"disabled\", ctx.usuarioForm.invalid);\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate1(\" \", ctx.modoEdicion ? \"Actualizar\" : \"Crear\", \" Usuario \");\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngIf\", ctx.usuarioParaVer);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.usuarioParaVer);\n        }\n      },\n      dependencies: [i5.NgClass, i5.NgForOf, i5.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.CheckboxControlValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName],\n      styles: [\".admin-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#eff6ff,#dbeafe,#bfdbfe);padding:20px 0}.page-title[_ngcontent-%COMP%]{color:var(--color-dark);font-weight:700;font-size:2rem;text-shadow:0 2px 4px rgba(30,58,138,.1)}.card[_ngcontent-%COMP%]{border-radius:1rem;border:none;box-shadow:0 4px 6px #2563eb26;transition:transform .2s,box-shadow .2s;background:#fff;border:1px solid rgba(37,99,235,.1)}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 16px #2563eb40;border-color:var(--color-primary)}.card-header[_ngcontent-%COMP%]{border-radius:1rem 1rem 0 0!important;font-weight:600;background:linear-gradient(90deg,#10b981,#059669)!important}.table[_ngcontent-%COMP%]{margin-bottom:0}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:2px solid #10b981;font-weight:600;text-transform:uppercase;font-size:.85rem;letter-spacing:.5px;background:linear-gradient(180deg,#10b981,#059669);color:#fff}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .2s}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:var(--color-light-2)}.btn[_ngcontent-%COMP%]{border-radius:.5rem;font-weight:500;transition:all .2s}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b981,#059669);border:none;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #10b98166;background:linear-gradient(90deg,#059669,#047857);color:#fff}.btn-info[_ngcontent-%COMP%]{background:linear-gradient(90deg,#0ea5e9,#0284c7);border:none;color:#fff}.btn-info[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0ea5e966;background:linear-gradient(90deg,#0284c7,#0369a1);color:#fff}.btn-warning[_ngcontent-%COMP%]{background-color:#f59e0b;border-color:#f59e0b}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#d97706;border-color:#d97706;box-shadow:0 4px 8px #f59e0b4d}.btn-danger[_ngcontent-%COMP%]{background-color:#ef4444;border-color:#ef4444}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#dc2626;border-color:#dc2626;box-shadow:0 4px 8px #ef44444d}.modal-content[_ngcontent-%COMP%]{border-radius:1rem;border:none;box-shadow:0 10px 30px #10b98133}.modal-header[_ngcontent-%COMP%]{border-radius:1rem 1rem 0 0;background:linear-gradient(90deg,#10b981,#059669)!important}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#10b981;box-shadow:0 0 0 .2rem #10b98140}.badge[_ngcontent-%COMP%]{padding:.35em .65em;font-weight:500}.badge.bg-primary[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--color-primary),var(--color-secondary))!important}.badge.bg-danger[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef4444,#dc2626)!important}.badge.bg-success[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b981,#059669)!important}.dataTables_wrapper[_ngcontent-%COMP%]{padding-top:1rem}.dataTables_filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:.5rem;border:1px solid var(--color-accent);padding:.5rem;transition:all .2s}.dataTables_filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#10b981;box-shadow:0 0 0 .2rem #10b98140;outline:none}.dataTables_length[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:.5rem;border:1px solid var(--color-accent);padding:.5rem;transition:all .2s}.dataTables_length[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#10b981;box-shadow:0 0 0 .2rem #10b98140;outline:none}@media (max-width: 768px){.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.table-responsive[_ngcontent-%COMP%]{font-size:.9rem}}\"]\n    });\n  }\n  return AdminUsuariosComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}