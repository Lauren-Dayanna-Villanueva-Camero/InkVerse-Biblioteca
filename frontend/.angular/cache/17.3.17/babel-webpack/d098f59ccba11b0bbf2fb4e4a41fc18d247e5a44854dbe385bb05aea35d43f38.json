{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"../../services/admin.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nconst _c0 = [\"librosTable\"];\nfunction AdminComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 44)(1, \"div\", 15)(2, \"h5\", 45);\n    i0.ɵɵtext(3, \"Crear Nueva Categor\\u00EDa\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"form\", 46);\n    i0.ɵɵlistener(\"ngSubmit\", function AdminComponent_div_15_Template_form_ngSubmit_4_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.crearCategoria());\n    });\n    i0.ɵɵelementStart(5, \"div\", 47);\n    i0.ɵɵelement(6, \"input\", 48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 49)(8, \"button\", 50);\n    i0.ɵɵtext(9, \"Crear\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.categoriaForm);\n  }\n}\nfunction AdminComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51)(1, \"div\", 52)(2, \"span\", 53);\n    i0.ɵɵtext(3, \"Cargando...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AdminComponent_div_23_tr_22_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 66);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const libro_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", libro_r4.categoria.nombre, \" \");\n  }\n}\nfunction AdminComponent_div_23_tr_22_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 5);\n    i0.ɵɵtext(1, \"Sin categor\\u00EDa\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminComponent_div_23_tr_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"strong\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtemplate(9, AdminComponent_div_23_tr_22_span_9_Template, 2, 1, \"span\", 58)(10, AdminComponent_div_23_tr_22_span_10_Template, 2, 0, \"span\", 59);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\")(14, \"span\", 60);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵelement(17, \"img\", 61);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\")(19, \"button\", 62);\n    i0.ɵɵlistener(\"click\", function AdminComponent_div_23_tr_22_Template_button_click_19_listener() {\n      const libro_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.abrirEditarLibro(libro_r4));\n    });\n    i0.ɵɵelement(20, \"i\", 63);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"button\", 64);\n    i0.ɵɵlistener(\"click\", function AdminComponent_div_23_tr_22_Template_button_click_21_listener() {\n      const libro_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.eliminarLibro(libro_r4));\n    });\n    i0.ɵɵelement(22, \"i\", 65);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const libro_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(libro_r4.id);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(libro_r4.titulo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(libro_r4.autor);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", libro_r4.categoria);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !libro_r4.categoria);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(libro_r4.cantidadTotal);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", libro_r4.cantidadDisponible > 0 ? \"bg-success\" : \"bg-danger\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", libro_r4.cantidadDisponible, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"alt\", libro_r4.titulo);\n    i0.ɵɵproperty(\"src\", libro_r4.imagenUrl || \"https://via.placeholder.com/50x50?text=Libro\", i0.ɵɵsanitizeUrl);\n  }\n}\nfunction AdminComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 54)(1, \"table\", 55, 0)(3, \"thead\", 56)(4, \"tr\")(5, \"th\");\n    i0.ɵɵtext(6, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"T\\u00EDtulo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Autor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Categor\\u00EDa\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Disponibles\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\");\n    i0.ɵɵtext(18, \"Imagen\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"th\");\n    i0.ɵɵtext(20, \"Acciones\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"tbody\");\n    i0.ɵɵtemplate(22, AdminComponent_div_23_tr_22_Template, 23, 10, \"tr\", 57);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(22);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.libros);\n  }\n}\nfunction AdminComponent_option_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 37);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cat_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", cat_r5.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", cat_r5.nombre, \" \");\n  }\n}\nexport let AdminComponent = /*#__PURE__*/(() => {\n  class AdminComponent {\n    authService;\n    adminService;\n    router;\n    fb;\n    librosTable;\n    libros = [];\n    categorias = [];\n    loading = false;\n    mostrarFormularioLibro = false;\n    modoEdicion = false;\n    libroSeleccionado = null;\n    libroForm;\n    categoriaForm;\n    mostrarFormularioCategoria = false;\n    constructor(authService, adminService, router, fb) {\n      this.authService = authService;\n      this.adminService = adminService;\n      this.router = router;\n      this.fb = fb;\n      this.libroForm = this.fb.group({\n        titulo: ['', Validators.required],\n        autor: ['', Validators.required],\n        descripcion: ['', Validators.required],\n        imagenUrl: [''],\n        cantidadTotal: [1, [Validators.required, Validators.min(1)]],\n        cantidadDisponible: [1, [Validators.required, Validators.min(0)]],\n        categoriaId: [null]\n      });\n      this.categoriaForm = this.fb.group({\n        nombre: ['', Validators.required]\n      });\n    }\n    ngOnInit() {\n      if (!this.authService.isAdmin()) {\n        this.router.navigate(['/']);\n        return;\n      }\n      this.cargarCategorias();\n      this.cargarLibros();\n    }\n    ngAfterViewInit() {\n      // DataTable se inicializará después de cargar los datos\n    }\n    cargarCategorias() {\n      this.adminService.listarCategorias().subscribe({\n        next: categorias => {\n          this.categorias = categorias;\n        },\n        error: err => {\n          console.error('Error al cargar categorías:', err);\n        }\n      });\n    }\n    cargarLibros() {\n      this.loading = true;\n      this.adminService.listarLibros().subscribe({\n        next: libros => {\n          this.libros = libros;\n          this.loading = false;\n          setTimeout(() => this.inicializarDataTable(), 100);\n        },\n        error: err => {\n          console.error('Error al cargar libros:', err);\n          this.loading = false;\n        }\n      });\n    }\n    inicializarDataTable() {\n      if ($.fn.DataTable.isDataTable(this.librosTable.nativeElement)) {\n        $(this.librosTable.nativeElement).DataTable().destroy();\n      }\n      $(this.librosTable.nativeElement).DataTable({\n        language: {\n          url: '//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json'\n        },\n        pageLength: 10,\n        order: [[0, 'asc']],\n        columnDefs: [{\n          orderable: false,\n          targets: [6, 7]\n        } // Botones de acción no ordenables\n        ]\n      });\n    }\n    abrirCrearLibro() {\n      this.modoEdicion = false;\n      this.libroSeleccionado = null;\n      this.libroForm.reset({\n        cantidadTotal: 1,\n        cantidadDisponible: 1\n      });\n      this.mostrarFormularioLibro = true;\n      const modal = new bootstrap.Modal(document.getElementById('libroModal'));\n      modal.show();\n    }\n    abrirEditarLibro(libro) {\n      this.modoEdicion = true;\n      this.libroSeleccionado = libro;\n      this.libroForm.patchValue({\n        titulo: libro.titulo,\n        autor: libro.autor,\n        descripcion: libro.descripcion,\n        imagenUrl: libro.imagenUrl || '',\n        cantidadTotal: libro.cantidadTotal,\n        cantidadDisponible: libro.cantidadDisponible,\n        categoriaId: libro.categoria?.id || null\n      });\n      this.mostrarFormularioLibro = true;\n      const modal = new bootstrap.Modal(document.getElementById('libroModal'));\n      modal.show();\n    }\n    guardarLibro() {\n      if (this.libroForm.invalid) {\n        this.libroForm.markAllAsTouched();\n        return;\n      }\n      const formValue = this.libroForm.value;\n      const libro = {\n        id: this.libroSeleccionado?.id || 0,\n        titulo: formValue.titulo,\n        autor: formValue.autor,\n        descripcion: formValue.descripcion,\n        imagenUrl: formValue.imagenUrl || 'https://via.placeholder.com/300x220?text=Libro',\n        cantidadTotal: formValue.cantidadTotal,\n        cantidadDisponible: formValue.cantidadDisponible,\n        categoria: formValue.categoriaId ? this.categorias.find(c => c.id === formValue.categoriaId) : undefined\n      };\n      const operacion = this.modoEdicion ? this.adminService.actualizarLibro(libro.id, libro) : this.adminService.crearLibro(libro);\n      operacion.subscribe({\n        next: () => {\n          this.cerrarModal();\n          this.cargarLibros();\n          alert(this.modoEdicion ? 'Libro actualizado exitosamente' : 'Libro creado exitosamente');\n        },\n        error: err => {\n          alert(err?.error?.message || 'Error al guardar el libro');\n        }\n      });\n    }\n    eliminarLibro(libro) {\n      if (!confirm(`¿Estás seguro de eliminar el libro \"${libro.titulo}\"?`)) {\n        return;\n      }\n      this.adminService.eliminarLibro(libro.id).subscribe({\n        next: () => {\n          this.cargarLibros();\n          alert('Libro eliminado exitosamente');\n        },\n        error: err => {\n          alert(err?.error?.message || 'Error al eliminar el libro');\n        }\n      });\n    }\n    cerrarModal() {\n      const modal = bootstrap.Modal.getInstance(document.getElementById('libroModal'));\n      if (modal) {\n        modal.hide();\n      }\n      this.mostrarFormularioLibro = false;\n      this.libroForm.reset();\n    }\n    crearCategoria() {\n      if (this.categoriaForm.invalid) {\n        this.categoriaForm.markAllAsTouched();\n        return;\n      }\n      const categoria = {\n        id: 0,\n        nombre: this.categoriaForm.value.nombre\n      };\n      this.adminService.crearCategoria(categoria).subscribe({\n        next: () => {\n          this.categoriaForm.reset();\n          this.mostrarFormularioCategoria = false;\n          this.cargarCategorias();\n          alert('Categoría creada exitosamente');\n        },\n        error: err => {\n          alert(err?.error?.message || 'Error al crear la categoría');\n        }\n      });\n    }\n    static ɵfac = function AdminComponent_Factory(t) {\n      return new (t || AdminComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.AdminService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.FormBuilder));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AdminComponent,\n      selectors: [[\"app-admin\"]],\n      viewQuery: function AdminComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.librosTable = _t.first);\n        }\n      },\n      decls: 92,\n      vars: 19,\n      consts: [[\"librosTable\", \"\"], [1, \"admin-container\"], [1, \"container-fluid\", \"py-4\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [1, \"page-title\", \"mb-2\"], [1, \"text-muted\"], [1, \"btn\", \"btn-primary\", \"me-2\", 3, \"click\"], [1, \"bi\", \"bi-plus-circle\"], [1, \"btn\", \"btn-outline-primary\", 3, \"click\"], [1, \"bi\", \"bi-tag\"], [\"class\", \"card shadow-sm mb-4\", 4, \"ngIf\"], [1, \"card\", \"shadow-sm\"], [1, \"card-header\", \"bg-primary\", \"text-white\"], [1, \"mb-0\"], [1, \"bi\", \"bi-book\"], [1, \"card-body\"], [\"class\", \"text-center py-5\", 4, \"ngIf\"], [\"class\", \"table-responsive\", 4, \"ngIf\"], [\"id\", \"libroModal\", \"tabindex\", \"-1\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-lg\", \"modal-dialog-centered\"], [1, \"modal-content\"], [1, \"modal-header\", \"bg-primary\", \"text-white\"], [1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn-close\", \"btn-close-white\", 3, \"click\"], [1, \"modal-body\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"row\"], [1, \"col-md-6\", \"mb-3\"], [1, \"form-label\"], [1, \"text-danger\"], [\"type\", \"text\", \"formControlName\", \"titulo\", 1, \"form-control\"], [1, \"invalid-feedback\"], [\"type\", \"text\", \"formControlName\", \"autor\", 1, \"form-control\"], [1, \"mb-3\"], [\"rows\", \"3\", \"formControlName\", \"descripcion\", 1, \"form-control\"], [\"type\", \"url\", \"formControlName\", \"imagenUrl\", \"placeholder\", \"https://ejemplo.com/imagen.jpg\", 1, \"form-control\"], [\"formControlName\", \"categoriaId\", 1, \"form-select\"], [3, \"value\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"number\", \"formControlName\", \"cantidadTotal\", \"min\", \"1\", 1, \"form-control\"], [\"type\", \"number\", \"formControlName\", \"cantidadDisponible\", \"min\", \"0\", 1, \"form-control\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"card\", \"shadow-sm\", \"mb-4\"], [1, \"card-title\"], [1, \"row\", \"g-3\", 3, \"ngSubmit\", \"formGroup\"], [1, \"col-md-8\"], [\"type\", \"text\", \"formControlName\", \"nombre\", \"placeholder\", \"Nombre de la categor\\u00EDa\", 1, \"form-control\"], [1, \"col-md-4\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", \"w-100\"], [1, \"text-center\", \"py-5\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"], [1, \"table-responsive\"], [\"id\", \"librosTable\", 1, \"table\", \"table-striped\", \"table-hover\"], [1, \"table-dark\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"badge bg-secondary\", 4, \"ngIf\"], [\"class\", \"text-muted\", 4, \"ngIf\"], [1, \"badge\", 3, \"ngClass\"], [1, \"img-thumbnail\", 2, \"width\", \"50px\", \"height\", \"50px\", \"object-fit\", \"cover\", 3, \"src\", \"alt\"], [\"title\", \"Editar\", 1, \"btn\", \"btn-sm\", \"btn-warning\", \"me-1\", 3, \"click\"], [1, \"bi\", \"bi-pencil\"], [\"title\", \"Eliminar\", 1, \"btn\", \"btn-sm\", \"btn-danger\", 3, \"click\"], [1, \"bi\", \"bi-trash\"], [1, \"badge\", \"bg-secondary\"]],\n      template: function AdminComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3)(3, \"div\")(4, \"h1\", 4);\n          i0.ɵɵtext(5, \" \\u2699\\uFE0F Panel de Administraci\\u00F3n \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"p\", 5);\n          i0.ɵɵtext(7, \"Gestiona libros, categor\\u00EDas y pr\\u00E9stamos\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"div\")(9, \"button\", 6);\n          i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_9_listener() {\n            return ctx.abrirCrearLibro();\n          });\n          i0.ɵɵelement(10, \"i\", 7);\n          i0.ɵɵtext(11, \" Nuevo Libro \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"button\", 8);\n          i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_12_listener() {\n            return ctx.mostrarFormularioCategoria = !ctx.mostrarFormularioCategoria;\n          });\n          i0.ɵɵelement(13, \"i\", 9);\n          i0.ɵɵtext(14, \" Nueva Categor\\u00EDa \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(15, AdminComponent_div_15_Template, 10, 1, \"div\", 10);\n          i0.ɵɵelementStart(16, \"div\", 11)(17, \"div\", 12)(18, \"h5\", 13);\n          i0.ɵɵelement(19, \"i\", 14);\n          i0.ɵɵtext(20, \" Gesti\\u00F3n de Libros \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"div\", 15);\n          i0.ɵɵtemplate(22, AdminComponent_div_22_Template, 4, 0, \"div\", 16)(23, AdminComponent_div_23_Template, 23, 1, \"div\", 17);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(24, \"div\", 18)(25, \"div\", 19)(26, \"div\", 20)(27, \"div\", 21)(28, \"h5\", 22);\n          i0.ɵɵtext(29);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"button\", 23);\n          i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_30_listener() {\n            return ctx.cerrarModal();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(31, \"div\", 24)(32, \"form\", 25);\n          i0.ɵɵlistener(\"ngSubmit\", function AdminComponent_Template_form_ngSubmit_32_listener() {\n            return ctx.guardarLibro();\n          });\n          i0.ɵɵelementStart(33, \"div\", 26)(34, \"div\", 27)(35, \"label\", 28);\n          i0.ɵɵtext(36, \"T\\u00EDtulo \");\n          i0.ɵɵelementStart(37, \"span\", 29);\n          i0.ɵɵtext(38, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(39, \"input\", 30);\n          i0.ɵɵelementStart(40, \"div\", 31);\n          i0.ɵɵtext(41, \"El t\\u00EDtulo es requerido\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(42, \"div\", 27)(43, \"label\", 28);\n          i0.ɵɵtext(44, \"Autor \");\n          i0.ɵɵelementStart(45, \"span\", 29);\n          i0.ɵɵtext(46, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(47, \"input\", 32);\n          i0.ɵɵelementStart(48, \"div\", 31);\n          i0.ɵɵtext(49, \"El autor es requerido\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(50, \"div\", 33)(51, \"label\", 28);\n          i0.ɵɵtext(52, \"Descripci\\u00F3n \");\n          i0.ɵɵelementStart(53, \"span\", 29);\n          i0.ɵɵtext(54, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(55, \"textarea\", 34);\n          i0.ɵɵelementStart(56, \"div\", 31);\n          i0.ɵɵtext(57, \"La descripci\\u00F3n es requerida\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(58, \"div\", 26)(59, \"div\", 27)(60, \"label\", 28);\n          i0.ɵɵtext(61, \"URL de Imagen\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(62, \"input\", 35);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(63, \"div\", 27)(64, \"label\", 28);\n          i0.ɵɵtext(65, \"Categor\\u00EDa\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(66, \"select\", 36)(67, \"option\", 37);\n          i0.ɵɵtext(68, \"Sin categor\\u00EDa\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(69, AdminComponent_option_69_Template, 2, 2, \"option\", 38);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(70, \"div\", 26)(71, \"div\", 27)(72, \"label\", 28);\n          i0.ɵɵtext(73, \"Cantidad Total \");\n          i0.ɵɵelementStart(74, \"span\", 29);\n          i0.ɵɵtext(75, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(76, \"input\", 39);\n          i0.ɵɵelementStart(77, \"div\", 31);\n          i0.ɵɵtext(78, \"La cantidad debe ser mayor a 0\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(79, \"div\", 27)(80, \"label\", 28);\n          i0.ɵɵtext(81, \"Cantidad Disponible \");\n          i0.ɵɵelementStart(82, \"span\", 29);\n          i0.ɵɵtext(83, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(84, \"input\", 40);\n          i0.ɵɵelementStart(85, \"div\", 31);\n          i0.ɵɵtext(86, \"La cantidad disponible no puede ser negativa\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(87, \"div\", 41)(88, \"button\", 42);\n          i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_88_listener() {\n            return ctx.cerrarModal();\n          });\n          i0.ɵɵtext(89, \" Cancelar \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(90, \"button\", 43);\n          i0.ɵɵtext(91);\n          i0.ɵɵelementEnd()()()()()()();\n        }\n        if (rf & 2) {\n          let tmp_5_0;\n          let tmp_6_0;\n          let tmp_7_0;\n          let tmp_10_0;\n          let tmp_11_0;\n          i0.ɵɵadvance(15);\n          i0.ɵɵproperty(\"ngIf\", ctx.mostrarFormularioCategoria);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\" \", ctx.modoEdicion ? \"Editar Libro\" : \"Nuevo Libro\", \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formGroup\", ctx.libroForm);\n          i0.ɵɵadvance(7);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_5_0 = ctx.libroForm.get(\"titulo\")) == null ? null : tmp_5_0.invalid) && ((tmp_5_0 = ctx.libroForm.get(\"titulo\")) == null ? null : tmp_5_0.touched));\n          i0.ɵɵadvance(8);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_6_0 = ctx.libroForm.get(\"autor\")) == null ? null : tmp_6_0.invalid) && ((tmp_6_0 = ctx.libroForm.get(\"autor\")) == null ? null : tmp_6_0.touched));\n          i0.ɵɵadvance(8);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_7_0 = ctx.libroForm.get(\"descripcion\")) == null ? null : tmp_7_0.invalid) && ((tmp_7_0 = ctx.libroForm.get(\"descripcion\")) == null ? null : tmp_7_0.touched));\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"value\", null);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.categorias);\n          i0.ɵɵadvance(7);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_10_0 = ctx.libroForm.get(\"cantidadTotal\")) == null ? null : tmp_10_0.invalid) && ((tmp_10_0 = ctx.libroForm.get(\"cantidadTotal\")) == null ? null : tmp_10_0.touched));\n          i0.ɵɵadvance(8);\n          i0.ɵɵclassProp(\"is-invalid\", ((tmp_11_0 = ctx.libroForm.get(\"cantidadDisponible\")) == null ? null : tmp_11_0.invalid) && ((tmp_11_0 = ctx.libroForm.get(\"cantidadDisponible\")) == null ? null : tmp_11_0.touched));\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"disabled\", ctx.libroForm.invalid);\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate1(\" \", ctx.modoEdicion ? \"Actualizar\" : \"Crear\", \" Libro \");\n        }\n      },\n      dependencies: [i5.NgClass, i5.NgForOf, i5.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.MinValidator, i4.FormGroupDirective, i4.FormControlName],\n      styles: [\".admin-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);padding:20px 0}.page-title[_ngcontent-%COMP%]{color:var(--color-dark);font-weight:700;font-size:2rem}.card[_ngcontent-%COMP%]{border-radius:1rem;border:none;box-shadow:0 4px 6px #0000001a;transition:transform .2s,box-shadow .2s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 12px #00000026}.card-header[_ngcontent-%COMP%]{border-radius:1rem 1rem 0 0!important;font-weight:600}.table[_ngcontent-%COMP%]{margin-bottom:0}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:2px solid #dee2e6;font-weight:600;text-transform:uppercase;font-size:.85rem;letter-spacing:.5px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .2s}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.btn[_ngcontent-%COMP%]{border-radius:.5rem;font-weight:500;transition:all .2s}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #0003}.modal-content[_ngcontent-%COMP%]{border-radius:1rem;border:none}.modal-header[_ngcontent-%COMP%]{border-radius:1rem 1rem 0 0}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:var(--color-primary);box-shadow:0 0 0 .2rem #ff7b5440}.badge[_ngcontent-%COMP%]{padding:.35em .65em;font-weight:500}.img-thumbnail[_ngcontent-%COMP%]{border-radius:.5rem}.dataTables_wrapper[_ngcontent-%COMP%]{padding-top:1rem}.dataTables_filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .dataTables_length[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:.5rem;border:1px solid #dee2e6;padding:.5rem}@media (max-width: 768px){.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.table-responsive[_ngcontent-%COMP%]{font-size:.9rem}}\"]\n    });\n  }\n  return AdminComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}